// +build gbm

package gbm

////////////////////////////////////////////////////////////////////////////////
// CGO

/*
#cgo pkg-config: gbm
#include <gbm.h>
*/
import "C"

////////////////////////////////////////////////////////////////////////////////
// TYPES

type (
	GBMFormat       C.uint32_t
	GBMBufferFormat C.enum_gbm_bo_format
)

////////////////////////////////////////////////////////////////////////////////
// CONSTANTS

const (
	GBM_BO_FORMAT_NONE     GBMBufferFormat = 0xFFFFFFFF
	GBM_BO_FORMAT_XRGB8888 GBMBufferFormat = C.GBM_BO_FORMAT_XRGB8888
	GBM_BO_FORMAT_ARGB8888 GBMBufferFormat = C.GBM_BO_FORMAT_ARGB8888
)

const (
	GBM_FORMAT_C8            GBMFormat = C.GBM_FORMAT_C8
	GBM_FORMAT_R8            GBMFormat = C.GBM_FORMAT_R8
	GBM_FORMAT_GR88          GBMFormat = C.GBM_FORMAT_GR88
	GBM_FORMAT_RGB332        GBMFormat = C.GBM_FORMAT_RGB332
	GBM_FORMAT_BGR233        GBMFormat = C.GBM_FORMAT_BGR233
	GBM_FORMAT_XRGB4444      GBMFormat = C.GBM_FORMAT_XRGB4444
	GBM_FORMAT_XBGR4444      GBMFormat = C.GBM_FORMAT_XBGR4444
	GBM_FORMAT_RGBX4444      GBMFormat = C.GBM_FORMAT_RGBX4444
	GBM_FORMAT_BGRX4444      GBMFormat = C.GBM_FORMAT_BGRX4444
	GBM_FORMAT_ARGB4444      GBMFormat = C.GBM_FORMAT_ARGB4444
	GBM_FORMAT_ABGR4444      GBMFormat = C.GBM_FORMAT_ABGR4444
	GBM_FORMAT_RGBA4444      GBMFormat = C.GBM_FORMAT_RGBA4444
	GBM_FORMAT_BGRA4444      GBMFormat = C.GBM_FORMAT_BGRA4444
	GBM_FORMAT_XRGB1555      GBMFormat = C.GBM_FORMAT_XRGB1555
	GBM_FORMAT_XBGR1555      GBMFormat = C.GBM_FORMAT_XBGR1555
	GBM_FORMAT_RGBX5551      GBMFormat = C.GBM_FORMAT_RGBX5551
	GBM_FORMAT_BGRX5551      GBMFormat = C.GBM_FORMAT_BGRX5551
	GBM_FORMAT_ARGB1555      GBMFormat = C.GBM_FORMAT_ARGB1555
	GBM_FORMAT_ABGR1555      GBMFormat = C.GBM_FORMAT_ABGR1555
	GBM_FORMAT_RGBA5551      GBMFormat = C.GBM_FORMAT_RGBA5551
	GBM_FORMAT_BGRA5551      GBMFormat = C.GBM_FORMAT_BGRA5551
	GBM_FORMAT_RGB565        GBMFormat = C.GBM_FORMAT_RGB565
	GBM_FORMAT_BGR565        GBMFormat = C.GBM_FORMAT_BGR565
	GBM_FORMAT_RGB888        GBMFormat = C.GBM_FORMAT_RGB888
	GBM_FORMAT_BGR888        GBMFormat = C.GBM_FORMAT_BGR888
	GBM_FORMAT_XRGB8888      GBMFormat = C.GBM_FORMAT_XRGB8888
	GBM_FORMAT_XBGR8888      GBMFormat = C.GBM_FORMAT_XBGR8888
	GBM_FORMAT_RGBX8888      GBMFormat = C.GBM_FORMAT_RGBX8888
	GBM_FORMAT_BGRX8888      GBMFormat = C.GBM_FORMAT_BGRX8888
	GBM_FORMAT_ARGB8888      GBMFormat = C.GBM_FORMAT_ARGB8888
	GBM_FORMAT_ABGR8888      GBMFormat = C.GBM_FORMAT_ABGR8888
	GBM_FORMAT_RGBA8888      GBMFormat = C.GBM_FORMAT_RGBA8888
	GBM_FORMAT_BGRA8888      GBMFormat = C.GBM_FORMAT_BGRA8888
	GBM_FORMAT_XRGB2101010   GBMFormat = C.GBM_FORMAT_XRGB2101010
	GBM_FORMAT_XBGR2101010   GBMFormat = C.GBM_FORMAT_XBGR2101010
	GBM_FORMAT_RGBX1010102   GBMFormat = C.GBM_FORMAT_RGBX1010102
	GBM_FORMAT_BGRX1010102   GBMFormat = C.GBM_FORMAT_BGRX1010102
	GBM_FORMAT_ARGB2101010   GBMFormat = C.GBM_FORMAT_ARGB2101010
	GBM_FORMAT_ABGR2101010   GBMFormat = C.GBM_FORMAT_ABGR2101010
	GBM_FORMAT_RGBA1010102   GBMFormat = C.GBM_FORMAT_RGBA1010102
	GBM_FORMAT_BGRA1010102   GBMFormat = C.GBM_FORMAT_BGRA1010102
	GBM_FORMAT_XBGR16161616F GBMFormat = C.GBM_FORMAT_XBGR16161616F
	GBM_FORMAT_ABGR16161616F GBMFormat = C.GBM_FORMAT_ABGR16161616F
	GBM_FORMAT_YUYV          GBMFormat = C.GBM_FORMAT_YUYV
	GBM_FORMAT_YVYU          GBMFormat = C.GBM_FORMAT_YVYU
	GBM_FORMAT_UYVY          GBMFormat = C.GBM_FORMAT_UYVY
	GBM_FORMAT_VYUY          GBMFormat = C.GBM_FORMAT_VYUY
	GBM_FORMAT_AYUV          GBMFormat = C.GBM_FORMAT_AYUV
	GBM_FORMAT_NV12          GBMFormat = C.GBM_FORMAT_NV12
	GBM_FORMAT_NV21          GBMFormat = C.GBM_FORMAT_NV21
	GBM_FORMAT_NV16          GBMFormat = C.GBM_FORMAT_NV16
	GBM_FORMAT_NV61          GBMFormat = C.GBM_FORMAT_NV61
	GBM_FORMAT_YUV410        GBMFormat = C.GBM_FORMAT_YUV410
	GBM_FORMAT_YVU410        GBMFormat = C.GBM_FORMAT_YVU410
	GBM_FORMAT_YUV411        GBMFormat = C.GBM_FORMAT_YUV411
	GBM_FORMAT_YVU411        GBMFormat = C.GBM_FORMAT_YVU411
	GBM_FORMAT_YUV420        GBMFormat = C.GBM_FORMAT_YUV420
	GBM_FORMAT_YVU420        GBMFormat = C.GBM_FORMAT_YVU420
	GBM_FORMAT_YUV422        GBMFormat = C.GBM_FORMAT_YUV422
	GBM_FORMAT_YUV444        GBMFormat = C.GBM_FORMAT_YUV444
	GBM_FORMAT_YVU444        GBMFormat = C.GBM_FORMAT_YVU444
)

////////////////////////////////////////////////////////////////////////////////
// PUBLIC METHODS

func (this *GBMDevice) IsFormatSupported(format GBMFormat, flags GBMBufferFlags) bool {
	ctx := (*C.struct_gbm_device)(this)
	if ret := C.gbm_device_is_format_supported(ctx, C.uint32_t(format), C.uint32_t(flags)); ret == 0 {
		return false
	} else {
		return true
	}
}

////////////////////////////////////////////////////////////////////////////////
// STRINGIFY

func (f GBMFormat) String() string {
	switch f {
	case GBM_FORMAT_C8:
		return "GBM_FORMAT_C8"
	case GBM_FORMAT_R8:
		return "GBM_FORMAT_R8"
	case GBM_FORMAT_GR88:
		return "GBM_FORMAT_GR88"
	case GBM_FORMAT_RGB332:
		return "GBM_FORMAT_RGB332"
	case GBM_FORMAT_BGR233:
		return "GBM_FORMAT_BGR233"
	case GBM_FORMAT_XRGB4444:
		return "GBM_FORMAT_XRGB4444"
	case GBM_FORMAT_XBGR4444:
		return "GBM_FORMAT_XBGR4444"
	case GBM_FORMAT_RGBX4444:
		return "GBM_FORMAT_RGBX4444"
	case GBM_FORMAT_BGRX4444:
		return "GBM_FORMAT_BGRX4444"
	case GBM_FORMAT_ARGB4444:
		return "GBM_FORMAT_ARGB4444"
	case GBM_FORMAT_ABGR4444:
		return "GBM_FORMAT_ABGR4444"
	case GBM_FORMAT_RGBA4444:
		return "GBM_FORMAT_RGBA4444"
	case GBM_FORMAT_BGRA4444:
		return "GBM_FORMAT_BGRA4444"
	case GBM_FORMAT_XRGB1555:
		return "GBM_FORMAT_XRGB1555"
	case GBM_FORMAT_XBGR1555:
		return "GBM_FORMAT_XBGR1555"
	case GBM_FORMAT_RGBX5551:
		return "GBM_FORMAT_RGBX5551"
	case GBM_FORMAT_BGRX5551:
		return "GBM_FORMAT_BGRX5551"
	case GBM_FORMAT_ARGB1555:
		return "GBM_FORMAT_ARGB1555"
	case GBM_FORMAT_ABGR1555:
		return "GBM_FORMAT_ABGR1555"
	case GBM_FORMAT_RGBA5551:
		return "GBM_FORMAT_RGBA5551"
	case GBM_FORMAT_BGRA5551:
		return "GBM_FORMAT_BGRA5551"
	case GBM_FORMAT_RGB565:
		return "GBM_FORMAT_RGB565"
	case GBM_FORMAT_BGR565:
		return "GBM_FORMAT_BGR565"
	case GBM_FORMAT_RGB888:
		return "GBM_FORMAT_RGB888"
	case GBM_FORMAT_BGR888:
		return "GBM_FORMAT_BGR888"
	case GBM_FORMAT_XRGB8888:
		return "GBM_FORMAT_XRGB8888"
	case GBM_FORMAT_XBGR8888:
		return "GBM_FORMAT_XBGR8888"
	case GBM_FORMAT_RGBX8888:
		return "GBM_FORMAT_RGBX8888"
	case GBM_FORMAT_BGRX8888:
		return "GBM_FORMAT_BGRX8888"
	case GBM_FORMAT_ARGB8888:
		return "GBM_FORMAT_ARGB8888"
	case GBM_FORMAT_ABGR8888:
		return "GBM_FORMAT_ABGR8888"
	case GBM_FORMAT_RGBA8888:
		return "GBM_FORMAT_RGBA8888"
	case GBM_FORMAT_BGRA8888:
		return "GBM_FORMAT_BGRA8888"
	case GBM_FORMAT_XRGB2101010:
		return "GBM_FORMAT_XRGB2101010"
	case GBM_FORMAT_XBGR2101010:
		return "GBM_FORMAT_XBGR2101010"
	case GBM_FORMAT_RGBX1010102:
		return "GBM_FORMAT_RGBX1010102"
	case GBM_FORMAT_BGRX1010102:
		return "GBM_FORMAT_BGRX1010102"
	case GBM_FORMAT_ARGB2101010:
		return "GBM_FORMAT_ARGB2101010"
	case GBM_FORMAT_ABGR2101010:
		return "GBM_FORMAT_ABGR2101010"
	case GBM_FORMAT_RGBA1010102:
		return "GBM_FORMAT_RGBA1010102"
	case GBM_FORMAT_BGRA1010102:
		return "GBM_FORMAT_BGRA1010102"
	case GBM_FORMAT_XBGR16161616F:
		return "GBM_FORMAT_XBGR16161616F"
	case GBM_FORMAT_ABGR16161616F:
		return "GBM_FORMAT_ABGR16161616F"
	case GBM_FORMAT_YUYV:
		return "GBM_FORMAT_YUYV"
	case GBM_FORMAT_YVYU:
		return "GBM_FORMAT_YVYU"
	case GBM_FORMAT_UYVY:
		return "GBM_FORMAT_UYVY"
	case GBM_FORMAT_VYUY:
		return "GBM_FORMAT_VYUY"
	case GBM_FORMAT_AYUV:
		return "GBM_FORMAT_AYUV"
	case GBM_FORMAT_NV12:
		return "GBM_FORMAT_NV12"
	case GBM_FORMAT_NV21:
		return "GBM_FORMAT_NV21"
	case GBM_FORMAT_NV16:
		return "GBM_FORMAT_NV16"
	case GBM_FORMAT_NV61:
		return "GBM_FORMAT_NV61"
	case GBM_FORMAT_YUV410:
		return "GBM_FORMAT_YUV410"
	case GBM_FORMAT_YVU410:
		return "GBM_FORMAT_YVU410"
	case GBM_FORMAT_YUV411:
		return "GBM_FORMAT_YUV411"
	case GBM_FORMAT_YVU411:
		return "GBM_FORMAT_YVU411"
	case GBM_FORMAT_YUV420:
		return "GBM_FORMAT_YUV420"
	case GBM_FORMAT_YVU420:
		return "GBM_FORMAT_YVU420"
	case GBM_FORMAT_YUV422:
		return "GBM_FORMAT_YUV422"
	case GBM_FORMAT_YUV444:
		return "GBM_FORMAT_YUV444"
	case GBM_FORMAT_YVU444:
		return "GBM_FORMAT_YVU444"

	default:
		return "[?? Invalid GBMFormat value]"
	}
}
